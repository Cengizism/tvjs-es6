{"version":3,"sources":["webpack:///webpack/bootstrap 59e5d7b280406682fdc2","webpack:///./src/main.js"],"names":[],"mappings":"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","file":"dist/application.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 59e5d7b280406682fdc2\n **/","var resourceLoader;\n\nvar Presenter = {\n  defaultPresenter(xml) {\n    if (this.loadingIndicatorVisible) {\n      navigationDocument.replaceDocument(xml, this.loadingIndicator);\n      this.loadingIndicatorVisible = false;\n    } else {\n      navigationDocument.pushDocument(xml);\n    }\n  },\n\n  searchPresenter(xml) {\n\n    this.defaultPresenter.call(this, xml);\n    var doc = xml;\n\n    var searchField = doc.getElementsByTagName(\"searchField\").item(0);\n    var keyboard = searchField.getFeature(\"Keyboard\");\n\n    keyboard.onTextChange = function() {\n      var searchText = keyboard.text;\n      console.log('search text changed: ' + searchText);\n      buildResults(doc, searchText);\n    }\n  },\n\n  modalDialogPresenter(xml) {\n    navigationDocument.presentModal(xml);\n  },\n\n  menuBarItemPresenter(xml, ele) {\n    var feature = ele.parentNode.getFeature(\"MenuBarDocument\");\n\n    if (feature) {\n      var currentDoc = feature.getDocument(ele);\n\n      if (!currentDoc) {\n        feature.setDocument(xml, ele);\n      }\n    }\n  },\n\n  load(event) {\n    var self = this,\n      ele = event.target,\n      templateURL = ele.getAttribute(\"template\"),\n      presentation = ele.getAttribute(\"presentation\");\n\n    if (templateURL) {\n      self.showLoadingIndicator(presentation);\n\n      resourceLoader.loadResource(templateURL,\n        function(resource) {\n          if (resource) {\n            var doc = self.makeDocument(resource);\n\n            doc.addEventListener(\"select\", self.load.bind(self));\n            doc.addEventListener(\"highlight\", self.load.bind(self));\n\n            if (self[presentation] instanceof Function) {\n              self[presentation].call(self, doc, ele);\n            } else {\n              self.defaultPresenter.call(self, doc);\n            }\n          }\n        }\n      );\n    }\n  },\n\n  makeDocument(resource) {\n    if (!Presenter.parser) {\n      Presenter.parser = new DOMParser();\n    }\n\n    var doc = Presenter.parser.parseFromString(resource, \"application/xml\");\n    return doc;\n  },\n\n  showLoadingIndicator(presentation) {\n    if (!this.loadingIndicator) {\n      this.loadingIndicator = this.makeDocument(this.loadingTemplate);\n    }\n\n    if (!this.loadingIndicatorVisible && presentation != \"modalDialogPresenter\" && presentation != \"menuBarItemPresenter\") {\n      navigationDocument.pushDocument(this.loadingIndicator);\n      this.loadingIndicatorVisible = true;\n    }\n  },\n\n  removeLoadingIndicator() {\n    if (this.loadingIndicatorVisible) {\n      navigationDocument.removeDocument(this.loadingIndicator);\n      this.loadingIndicatorVisible = false;\n    }\n  },\n\n  loadingTemplate: `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n        <document>\n          <loadingTemplate>\n            <activityIndicator>\n              <text>Loading...</text>\n            </activityIndicator>\n          </loadingTemplate>\n        </document>`\n}\n\nclass ResourceLoader {\n    constructor(baseurl) {\n      if (!baseurl) {\n        throw (\"ResourceLoader: baseurl is required.\");\n      }\n\n      this.BASEURL = baseurl;\n    }\n\n    loadResource(resource, callback) {\n      var self = this;\n\n      evaluateScripts([resource], function(success) {\n        if (success) {\n          var resource = Template.call(self);\n          callback.call(self, resource);\n        } else {\n          var title = \"Resource Loader Error\",\n            description = `There was an error attempting to load the resource '${resource}'. \\n\\n Please try again later.`,\n            alert = createAlert(title, description);\n\n          Presenter.removeLoadingIndicator();\n\n          navigationDocument.presentModal(alert);\n        }\n      });\n    }\n}\n\nApp.onLaunch = function(options) {\n  resourceLoader = new ResourceLoader(options.BASEURL);\n  var index = resourceLoader.loadResource(`${options.BASEURL}templates/Index.xml.js`,\n    function(resource) {\n      var doc = Presenter.makeDocument(resource);\n      doc.addEventListener(\"select\", Presenter.load.bind(Presenter));\n      navigationDocument.pushDocument(doc);\n    });\n}\n\nvar createAlert = function(title, description) {\n  var alertString = `<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n        <document>\n          <alertTemplate>\n            <title>${title}</title>\n            <description>${description}</description>\n          </alertTemplate>\n        </document>`\n  var parser = new DOMParser();\n  var alertDoc = parser.parseFromString(alertString, \"application/xml\");\n  return alertDoc\n}\n\nvar buildResults = function(doc, searchText) {\n  var regExp = new RegExp(searchText, \"i\");\n  var matchesText = function(value) {\n    return regExp.test(value);\n  }\n\n  var movies = {\n    \"The Puffin\": 1,\n    \"Lola and Max\": 2,\n    \"Road to Firenze\": 3,\n    \"Three Developers and a Baby\": 4,\n    \"Santa Cruz Surf\": 5,\n    \"Cinque Terre\": 6,\n    \"Creatures of the Rainforest\": 7\n  };\n  var titles = Object.keys(movies);\n  var domImplementation = doc.implementation;\n  var lsParser = domImplementation.createLSParser(1, null);\n  var lsInput = domImplementation.createLSInput();\n\n  lsInput.stringData = `<list>\n      <section>\n        <header>\n          <title>No Results</title>\n        </header>\n      </section>\n    </list>`;\n\n  titles = (searchText) ? titles.filter(matchesText) : titles;\n\n  if (titles.length > 0) {\n    lsInput.stringData = `<shelf><header><title>Results</title></header><section id=\"Results\">`;\n    for (var i = 0; i < titles.length; i++) {\n      lsInput.stringData += `<lockup>\n          <img src=\"${this.resourceLoader.BASEURL}resources/images/movies/movie_${movies[titles[i]]}.lcr\" width=\"350\" height=\"520\" />\n          <title>${titles[i]}</title>\n        </lockup>`;\n    }\n    lsInput.stringData += `</section></shelf>`;\n  }\n\n  lsParser.parseWithContext(lsInput, doc.getElementsByTagName(\"collectionList\").item(0), 2);\n\n  getMovies('http://api.themoviedb.org/3/search/movie?api_key=c8806e55322afd9062df9442a5feffec&query=' + searchText, function(response) {\n    console.log(response.results);\n  });\n}\n\nfunction getMovies(url, callback) {\n  var templateXHR = new XMLHttpRequest();\n  templateXHR.responseType = \"document\";\n  templateXHR.addEventListener(\"loadend\", function() {\n    callback.call(this, JSON.parse(templateXHR.responseText));\n  }, false);\n  templateXHR.open('GET', url, true);\n  templateXHR.send();\n  return templateXHR;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/"],"sourceRoot":""}